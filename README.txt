README.txt for the Stata Press book files
version 1.2.3  21dec2005


Files you will need
==============================================================================

The production version of a Stata Press book requires LaTeX (an extended
version of the TeX document preparation system), and the files distributed
with this "README.txt" file.

If you are using Windows, we recommend you install MiKTeX; it is the highest
quality TeX distribution for Windows that we are aware of (and it is FREE).
The main website for MiKTeX is

	http://www.miktex.org/

Make sure you do the FULL install (depending upon your internet connection,
this download could take quite some time).

Windows users may also be interested in WinEdt, an editor specifically
designed by a group of individuals who really like working with TeX (WinEdt
has syntax highlighting, menus, and macro buttons of great convenience to
TeX/LaTeX users).  WinEdt is shareware.  The website for WinEdt is

	http://www.winedt.com/

The only other files needed are those you write that contain the chapters.  We
recommend you keep each chapter in a separate file (e.g.  chap1.tex,
chap2.tex, ...; but you can name them however you like) and use the
"\include{}" macro in "main_inc.tex" to include them for processing by LaTeX.
For example, the contents of your "main_inc.tex" file may look like:

	% main_inc.tex
	\include{intro}
	\include{overview}
	\include{chap3}
	\include{chap4}
	\include{chap5}
	\endinput

Then, as you are writing/editing your book, you just run LaTeX on "main.tex"
and view the results produced in "main.dvi" (a file generated by LaTeX).  If
you are using a distribution like MiKTeX, LaTeX is executed at the "Command
Prompt":

	> latex main

See "stata.tex" and "statapress.tex" for some examples of useful TeX macros
and environments developed by the Stata Press staff.

Also see the example files for the Stata Journal that -sjlatex- downloads.  If
this is the first time you have heard of -sjlatex-, you can find it from
within Stata by typing the following:

	. net search sjlatex

Note that you should NOT use -sjlatex- to install LaTeX files into this
directory; the Stata Press LaTeX files for the Stata Journal are similar but
ultimately conflict with the Stata Press LaTeX files for books.

A few TeX distributions do not contain some LaTeX packages used by the Stata
Press LaTeX files (particularly some distributions for the Mac).  We have put
together an 'sjextra' package whose files should fill in this gap.  You can
find it from within Stata by typing the following:

	. new search sjextra

In the case where "latex" reports problems with the files as they were
originally supplied, try installing the 'sjextra' files in the current
directory.


File/Folder Descriptions
==============================================================================


dof/
------------------------------------------------------------------------------

By convention, Stata do-files and logs are kept in the "dof/" directory.  This
is not a rule, just a convenient guideline.

When presenting Stata logged output in the book, use the "stlog" environment.
For example, to include the contents of the log in "dof/example.log.tex" try

	\begin{stlog}
	\input{dof/example.log.tex}
	\end{stlog}

When generating Stata logs for input into your book, consider using the -sjlog-
command packaged with -sjlatex-.  To get this command, type the following from
within Stata

	. net search sjlog


eps/
------------------------------------------------------------------------------

Also by convention, exported Stata graphs in Encapsulated PostScript format
are placed in the "eps/" directory.  This separates the "work in progress"
graphs from those ready to be included in the book.


TeX source files
------------------------------------------------------------------------------

main.tex -- The main driver file for your Stata Press book; i.e. you will run
LaTeX on this file.  "main.tex" organizes the book:

1) "main.tex" inputs "main_front.tex" for the front matter.  The following
files are input from main_front.tex:

     * insidecover.tex -- Stata Press inside cover page
     * title.tex       -- Title page of book
       copyright.tex   -- Stata Press copyright page
     * acknowledge.tex -- To be written by the author(s)
     * preface.tex     -- To be written by the author(s)

You will need to edit the files marked with "*", filling in such things as the
book's title, author name(s) and affiliation(s), acknowledgments and a
preface to the book.

2) "main.tex" inputs "main_inc.tex" which should use the LaTeX "\include{}"
macro to input a file for each chapter insert in the correct order.  This is
the only other file you will need to change.  The purpose of this file is to
help you organize the chapters.  It is assumed (and most convenient) for each
chapter to have its own file.

3) "main.tex" inputs other files dealing with the back matter: references,
indexes, ...  

main_inc.tex -- Aside from the chapter/section inserts, this file may also
contain \include{part1}, \include{part2}, ... to distinguish parts of the
book.  part1.tex should create a table of contents entry identifying the first
part of the book, part2.tex the second, and ...  The files "part1.tex" and
"part2.tex" already exist as examples.

readme.tex -- inputs "stbook.tex" and "stata.tex", each of which contain
"Getting Started" examples.

author.sty -- this file is automatically "\input" by the document class.  It
allows you to place input packages
(using "\usepackage{}") and global definitions (using "\def", "\newcommand",
...).


The doit.sh script (for Linux/UNIX & Cygwin users)
------------------------------------------------------------------------------

I wrote -doit.sh-, a shell script that will run latex and other programs on
"main.tex" to produce "main.dvi" and "main.ps".

If you are using Linux, then you should have nothing extra to install; teTeX
(a UNIX distribution of TeX) is most likely already be installed.

If you are using Cygwin, do not use their version of teTeX, I have not fully
tested it.  Use MiKTeX instead, I have tested all these files and found it to
be an excellent TeX distribution.


The doit.bat Script (for Windows users not using Cygwin)
------------------------------------------------------------------------------

I wrote -doit.bat-, a batch script that will run latex and other programs on
"main.tex" to produce "main.dvi" and "main.ps".  Just type the following in
a "Command Prompt":

	> doit

You will be able to view "main.dvi" using the Yap program.  Yap, the DVI
viewer bundled with MiKTeX, may be launched by typing the following from the
"Command Prompt":

	> yap main

Alternatively, Yap may be launched from the "Start" menu:

	Start->Programs->MiKTeX

-doit.bat- will also generate a PostScript file by default.  To save time,
this can be switched off by supplying -nops- as the first argument:

	> doit nops

If you will be incorporating Stata graphs in your book, read the next section.


Stata graphs and the Yap viewer (for Windows users)
------------------------------------------------------------------------------

If you are not generating Stata graphs for your book, you can safely ignore
the following and just use the Yap viewer.

-doit.bat- also generates "main.ps", a PostScript file that you can view using
GSview (a GUI viewer for PostScript files that uses the GhostScript rendering
engine).  The relevant website is

	http://www.cs.wisc.edu/~ghost/

You will need to install both GhostScript and Ghostview.


References
==============================================================================

The following books helped me learn the fundamentals of LaTeX.  The book by
Lamport is probably sufficient.

Lamport, L. 1994.  LaTeX: a document preparation system. Reading, MA:
	Addison-Wesley.

Goossens, M., F. Mittelbach, and A. Samarin. 1994. The LaTeX Companion.
	Reading, MA: Addison-Wesley.

--Jeff Pitblado
  jpitblado@stata.com
<end>
